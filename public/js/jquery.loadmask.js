(function(e){e.fn.mask=function(t,n){e(this).each(function(){if(n!==undefined&&n>0){var r=e(this);r.data("_mask_timeout",setTimeout(function(){e.maskElement(r,t)},n))}else{e.maskElement(e(this),t)}})};e.fn.unmask=function(){e(this).each(function(){e.unmaskElement(e(this))})};e.fn.isMasked=function(){return this.hasClass("masked")};e.maskElement=function(t,n){if(t.data("_mask_timeout")!==undefined){clearTimeout(t.data("_mask_timeout"));t.removeData("_mask_timeout")}if(t.isMasked()){e.unmaskElement(t)}if(t.css("position")=="static"){t.addClass("masked-relative")}t.addClass("masked");var r=e('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){r.height(t.height()+parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom")));r.width(t.width()+parseInt(t.css("padding-left"))+parseInt(t.css("padding-right")))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){t.find("select").addClass("masked-hidden")}t.append(r);if(n!==undefined){var i=e('<div class="loadmask-msg" style="display:none;"></div>');i.append("<div>"+n+"</div>");t.append(i);i.css("top",Math.round(t.height()/2-(i.height()-parseInt(i.css("padding-top"))-parseInt(i.css("padding-bottom")))/2)+"px");i.css("left",Math.round(t.width()/2-(i.width()-parseInt(i.css("padding-left"))-parseInt(i.css("padding-right")))/2)+"px");i.show()}};e.unmaskElement=function(e){if(e.data("_mask_timeout")!==undefined){clearTimeout(e.data("_mask_timeout"));e.removeData("_mask_timeout")}e.find(".loadmask-msg,.loadmask").remove();e.removeClass("masked");e.removeClass("masked-relative");e.find("select").removeClass("masked-hidden")}})(jQuery)